---
title: Установка через Docker Compose
description: Установите OpenMPFlow на своём сервере одной командой — Docker Compose, все функции бесплатно
---

## Быстрая установка

```bash
git clone https://github.com/teploe-odealko/mp-flow && cd mp-flow && docker compose up -d
```

Готово. Откройте [http://localhost:3000](http://localhost:3000) — логин `admin` / `admin`.

## Требования

- Linux, macOS или Windows с WSL2
- [Docker](https://docs.docker.com/get-docker/) 20+ с Docker Compose v2
- Git
- Минимум 1 GB RAM, 5 GB диска

## Настройка

Скопируйте и отредактируйте файл конфигурации:

```bash
cp .env.example .env
```

Обязательно измените для продакшена:

```bash title=".env"
# Пароль базы данных
POSTGRES_PASSWORD=ваш_надёжный_пароль

# Секрет для токенов — сгенерируйте: openssl rand -base64 32
HMAC_SECRET=ваш_секрет

# Пароль администратора
ADMIN_BOOTSTRAP_PASSWORD=ваш_пароль
```

Затем перезапустите:

```bash
docker compose down && docker compose up -d
```

## Что запускается

| Сервис | Порт | Описание |
|--------|------|----------|
| **admin-ui** | 3000 | Веб-интерфейс (nginx + vanilla JS) |
| **proxy** | 8000 | Backend API (FastAPI) |
| **postgres** | 5432 | База данных PostgreSQL |

## Доступ извне (HTTPS)

Для продакшен-развёртывания используйте reverse proxy (Traefik, nginx, Caddy) с SSL-сертификатом.

Пример с Traefik:

```yaml title="docker-compose.prod.yml"
services:
  proxy:
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.proxy.rule=Host(`proxy.yourdomain.com`)"
      - "traefik.http.routers.proxy.tls.certresolver=letsencrypt"
```

## Проверка работы

```bash
# Статус сервисов
docker compose ps

# Логи
docker compose logs -f proxy

# API health check
curl http://localhost:8000/health
```

## Остановка

```bash
docker compose down
```

Данные PostgreSQL сохраняются в Docker volume и не удаляются при остановке.

## Далее

- [Переменные окружения](/docs/self-hosting/environment) — полный список настроек
- [Обновления](/docs/self-hosting/upgrades) — как обновлять систему
- [Интеграция с Ozon](/docs/getting-started/ozon-integration) — подключение Ozon API
